!function e(t,r,n){function i(s,u){if(!r[s]){if(!t[s]){var a="function"==typeof require&&require;if(!u&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var y=r[s]={exports:{}};t[s][0].call(y.exports,function(e){var r=t[s][1][e];return i(r?r:e)},y,y.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){},{}],2:[function(e,t,r){function n(){y=!1,u.length?c=u.concat(c):p=-1,c.length&&i()}function i(){if(!y){var e=setTimeout(n);y=!0;for(var t=c.length;t;){for(u=c,c=[];++p<t;)u&&u[p].run();p=-1,t=c.length}u=null,y=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function s(){}var u,a=t.exports={},c=[],y=!1,p=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new o(e,t)),1!==c.length||y||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=s,a.addListener=s,a.once=s,a.off=s,a.removeListener=s,a.removeAllListeners=s,a.emit=s,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],3:[function(e,t,r){t.exports={protocol:"https",host:"api.contentstack.io",version:"v2",urls:{content_types:"/content_types/",entries:"/entries/",environments:"/environments/"}}},{}],4:[function(e,t,r){"use strict";var n=e("./src/stack"),i=e("./lib/utils"),o=e("./src/cache-provider"),s=function(){};s.prototype.Stack=n.initialize(),s.prototype.CachePolicy=o.policies;var u=new s;i.isBrowser()?window.Contentstack=u:t.exports=u},{"./lib/utils":6,"./src/cache-provider":7,"./src/stack":13}],5:[function(e,t,r){"use strict";function n(e,t){var r=new i,n=e.method||"GET",o=e.url,s=e.headers;r.open(n,o,!0),r.setRequestHeader("Content-Type","application/json; charset=UTF-8");for(var u in s)r.setRequestHeader(u,s[u]);e.body&&"POST"==n||"PUT"==n?"object"==typeof e.body?r.send(JSON.stringify(e.body)):r.send(e.body):r.send(),r.onreadystatechange=function(){if(4===r.readyState){var e,n=r.responseText;try{n=JSON.parse(n)}catch(i){e={error_code:141,message:"Could not parse the response received from the server."}}r.status>=200&&r.status<300?t(null,n):t(n||e,null)}}}var i,o=e("./utils");i=o.isBrowser()&&XMLHttpRequest?XMLHttpRequest:e("xmlhttprequest").XMLHttpRequest,t.exports=n},{"./utils":6,xmlhttprequest:1}],6:[function(e,t,r){(function(n){"use strict";var i={};t.exports=r=i,r._type=function(e){var t,r=typeof e;switch(r){case"object":t=r,Array.isArray(e)&&(r="array");break;default:t=r}return r},r.mergeDeep=function(e,t){var r=this,n=function(e,t){for(var i in t)"object"==r._type(t[i])&&r._type(e[i])==r._type(t[i])?n(e[i],t[i]):"array"==r._type(t[i])&&r._type(e[i])==r._type(t[i])?e[i]=e[i].concat(t[i]):e[i]=t[i]};return n(e,t),e},r.merge=function(e,t){if(e&&t)for(var r in t)e[r]=t[r];return e},r.setAccessToken=function(e){if("object"==typeof e)for(var t in e)"content_type"===t&&e.url&&e.uid?e.url+=(~e.url.indexOf("?")?"&":"?")+this.token_queryString:"string"==typeof e[t]?e[t]=e[t].replace(/https:[\/][\/](dev-|stag-|)api.(built|contentstack).io[\/](.*?)[\/]download(.*?)uid=([a-z0-9]+)/gi,function(e){return e+"&"+this.token_queryString}.bind(this)):"object"==typeof e[t]&&this.setAccessToken(e[t]);return e},r.getData=function(e,t){return this.token_queryString="AUTHTOKEN="+t,e&&Array.isArray(e.entries)?e.entries.forEach(function(e){this.setAccessToken(e)}.bind(this)):e&&e.entry&&this.setAccessToken(e.entry),e},r.isBrowser=function(){return"undefined"!=typeof window&&"object"==typeof n&&"browser"===n.title},r.parseQueryFromParams=function(e,t,r){if(e&&e.requestParams){var n=this.merge({},e.requestParams.body?e.requestParams.body.query||{}:{});return n.environment_uid&&(delete n.environment_uid,n.environment=e.environment),{content_type_uid:e.content_type_uid,locale:n.locale||"en-us",query:n,entry_uid:e.entry_uid,single:t||"false",toJSON:r||"false",api_key:e.requestParams.headers?e.requestParams.headers.api_key:""}}},r.getHash=function(e){try{var t=i.generateHash(JSON.stringify(e)),r=[];return r.push(e.content_type_uid),r.push(e.locale),e.entry_uid&&r.push(e.entry_uid),r.push(t),r.join(".")}catch(n){}},r.generateHash=function(e){var t,r,n,i=0;if(0===e.length)return i;for(t=0,n=e.length;n>t;t++)r=e.charCodeAt(t),i=(i<<5)-i+r,i|=0;return-1>i?-1*i:i},r.resultWrapper=function(t){var r=e("./../src/entry/result");if(t&&t.entries&&"undefined"!=typeof t.entries)if(t.entries&&t.entries.length)for(var n=0,i=t.entries.length;i>n;n++)t.entries[n]=r(t.entries[n]);else t.entries=[];else t&&"undefined"!=typeof t.entry&&(t.entry=r(t.entry));return t},r.spreadResult=function(e){var t=[];return e&&"object"==typeof e&&Object.keys(e).length&&("undefined"!=typeof e.entries&&t.push(e.entries),"undefined"!=typeof e.schema&&t.push(e.schema),"undefined"!=typeof e.count&&t.push(e.count),"undefined"!=typeof e.entry&&(t=e.entry)),t}}).call(this,e("_process"))},{"./../src/entry/result":12,_process:2}],7:[function(e,t,r){"use strict";var n={};t.exports=r=n,n.providers=function(t){return t?e("./localstorage"):void console.error("Kindly provide valid provider.")},n.policies={IGNORE_CACHE:-1,ONLY_NETWORK:0,CACHE_ELSE_NETWORK:1,NETWORK_ELSE_CACHE:2,CACHE_THEN_NETWORK:3}},{"./localstorage":8}],8:[function(e,t,r){"use strict";function n(e,t){!t&&e&&e.length&&e.push("");var r,n=i.getKeys(),o=i.getStorage();if(e&&e.length){r=e.join(".");for(var s=0,u=n.length;u>s;s++)n[s]&&0===n[s].indexOf(r)&&delete o[n[s]]}else for(var s=0,u=n.length;u>s;s++)delete o[n[s]]}var i=e("./../cache"),o={};t.exports=r=o,o.get=function(e,t){try{t(null,i.get(e))}catch(r){t(r)}},o.set=function(e,t,r){try{e&&t&&i.set(e,t),r()}catch(n){r(n)}},o.clearByContentType=function(){try{if(2===arguments.length||3===arguments.length){var e=Array.prototype.slice.call(arguments),t=e.splice(-1,1).pop(),r=[];r.push.apply(r,e),n(r),t()}}catch(i){t(i)}},o.clearByQuery=function(e,t){try{for(var r=i.getKeys(),n=i.getStorage(),o=0,s=r.length;s>o;o++)r[o]&&~r[o].indexOf(e)&&delete n[r[o]];t()}catch(u){t(u)}},o.clearAll=function(e){try{n(),e()}catch(t){e(t)}}},{"./../cache":9}],9:[function(e,t,r){"use strict";var n,i=e("./../lib/utils");n=i.isBrowser()&&localStorage?localStorage:e("localStorage"),r.get=function(e){var t=n.getItem(e);try{t=JSON.parse(t)}catch(r){return t}return t||null},r.set=function(e,t){"object"==typeof t?n.setItem(e,JSON.stringify(t)):n.setItem(e,t)},r.getStorage=function(){return n||null},r.getKeys=function(){return n?Object.keys(n):[]}},{"./../lib/utils":6,localStorage:1}],10:[function(e,t,r){function n(){return this._query={},this}var i=e("./../../lib/request"),o=e("./../../lib/utils"),s=(e("./../cache-provider"),function(e){return function(){switch(this._query[e]=this._query[e]||{},arguments.length){case 1:if(Array.isArray(arguments[0])||"string"==typeof arguments[0]){var t=this._query[e].BASE||[];return t=t.concat(arguments[0]),this._query[e].BASE=t,this}console.error("Kindly provide valid parameters");break;case 2:if("string"==typeof arguments[0]&&(Array.isArray(arguments[1])||"string"==typeof arguments[1])){var t=this._query[e][arguments[0]]||[];return t=t.concat(arguments[1]),this._query[e][arguments[0]]=t,this}console.error("Kindly provide valid parameters");break;default:console.error("Kindly provide valid parameters")}}});n.prototype.only=s("only"),n.prototype.except=s("except"),n.prototype.includeReference=function(e){return Array.isArray(e)||"string"==typeof e?(this._query.include=this._query.include||[],this._query.include=this._query.include.concat(e),this):void console.error("Argument should be a String or an Array.")},n.prototype.language=function(e){return e&&"string"==typeof e?(this._query.locale=e,this):void console.error("Argument should be a String.")},n.prototype.addQuery=function(e,t){return e&&t&&"string"==typeof e?(this._query[e]=t,this):void console.error("First argument should be a String.")},n.prototype.includeSchema=function(){return this._query.include_schema=!0,this},n.prototype.includeOwner=function(){return this._query.include_owner=!0,this},n.prototype.spread=function(){this._spread=!0,this&&this.then&&this.then.apply(this,arguments)},n.prototype.toJSON=function(){return this.tojson=!0,this},n.prototype.fetch=function(){return this.entry_uid?(this.requestParams={method:"POST",headers:this.headers,url:this.config.protocol+"://"+this.config.host+"/"+this.config.version+this.config.urls.content_types+this.content_type_uid+this.config.urls.entries+this.entry_uid,body:{_method:"GET",query:this._query}},this):void console.error("Kindly provide an entry uid. e.g. .Entry('bltsomething123')")},n.prototype.then=function(e,t){var r=this.environment_uid,n=this.requestParams;r?this._query.environment_uid=r:this._query.environment=this.environment;var s,u=this,a="undefined"!=typeof u.queryCachePolicy?u.queryCachePolicy:u.cachePolicy,c="undefined"!=typeof u.tojson?u.tojson:!1,y="undefined"!=typeof u._spread?u._spread:!1,p=u.entry_uid||u.singleEntry?!0:!1,h=o.getHash(o.parseQueryFromParams(u,p,c)),l=function(){return function(r,n){try{if(r)throw r;c||(n=o.resultWrapper(n)),s=o.spreadResult(n),p?e(s):y?e.apply(null,s):e(s)}catch(i){t(i)}}},d=function(r){r&&i(n,function(r,n){try{if(u.queryCachePolicy=void 0,u.tojson=void 0,u._spread=void 0,u.entry_uid=void 0,r)2===a?u.provider.get(h,l()):t(r);else{var i={};if(this.singleEntry){if(!n.entries||!n.entries.length)return void(2===a?u.provider.get(h,l()):t({error_code:141,error_message:"The requested entry doesn't exist."}));i.entry=o.getData(n,this.headers.access_token).entries[0],n.schema&&(i.schema=n.schema),this.singleEntry=!1}else i=o.getData(n,this.headers.access_token);-1!==a?u.provider.set(h,i,function(r){try{if(r)throw r;c||(i=o.resultWrapper(i)),s=o.spreadResult(i),p?e(s):y?e.apply(null,s):e(s)}catch(n){t(n)}}):(c||(i=o.resultWrapper(i)),s=o.spreadResult(i),p?e(s):y?e.apply(null,s):e(s))}}catch(d){t({message:d.message})}}.bind(u))};switch(a){case 1:case 3:u.provider.get(h,function(r,n){try{var i=!1;r?(i=!0,t(r)):(3!==a&&n||(i=!0),n?(c||(n=o.resultWrapper(n)),s=o.spreadResult(n),p?e(s):y?e.apply(null,s):e(s)):3===a&&e(n)),d(i)}catch(u){t(u)}});break;case 2:case 0:case-1:d(!0)}},t.exports=n},{"./../../lib/request":5,"./../../lib/utils":6,"./../cache-provider":7}],11:[function(e,t,r){"use strict";function n(){o.call(this),this._query=this._query||{},this._query.query=this._query.query||{}}var i=(e("./../../lib/request"),e("./../../lib/utils")),o=e("./entry"),s={compare:function(e){return function(t,r){return t&&r&&"string"==typeof t&&"undefined"!=typeof r?(this._query.query[t]=this._query.query[t]||{},this._query.query[t][e]=r,this):void console.error("Kindly provide valid parameters.")}},contained:function(e){var t=e?"$in":"$nin";return function(e,r){return e&&r&&"string"==typeof e&&Array.isArray(r)?(this._query.query[e]=this._query.query[e]||{},this._query.query[e][t]=this._query.query[e][t]||[],this._query.query[e][t]=this._query.query[e][t].concat(r),this):void console.error("Kindly provide valid parameters.")}},exists:function(e){return function(t){return t&&"string"==typeof t?(this._query.query[t]=this._query.query[t]||{},this._query.query[t].$exists=e,this):void console.error("Kindly provide valid parameters.")}},logical:function(e){return function(){for(var t=[],r=0,i=arguments.length;i>r;r++)arguments[r]instanceof n&&arguments[r]._query.query?t.push(arguments[r]._query.query):"object"==typeof arguments[r]&&t.push(arguments[r]);return this._query.query[e]?this._query.query[e]=this._query.query[e].concat(t):this._query.query[e]=t,this}},sort:function(e){return function(t){return t&&"string"==typeof t?(this._query[e]=t,this):void console.error("Argument should be a string.")}},pagination:function(e){return function(t){return"number"==typeof t?(this._query[e]=t,this):void console.error("Argument should be a number.")}}};n.prototype=Object.create(o.prototype),n.prototype.lessThan=s.compare("$lt"),n.prototype.lessThanOrEqualTo=s.compare("$lte"),n.prototype.greaterThan=s.compare("$gt"),n.prototype.greaterThanOrEqualTo=s.compare("$gte"),n.prototype.equalTo=n.prototype.where=function(e,t){return e&&t&&"string"==typeof e&&"string"==typeof t?(this._query.query[e]=t,this):void console.error("Kindly provide valid parameters.")},n.prototype.notEqualTo=s.compare("$ne"),n.prototype.containedIn=s.contained(!0),n.prototype.notContainedIn=s.contained(!1),n.prototype.exists=s.exists(!0),n.prototype.notExists=s.exists(!1),n.prototype.ascending=s.sort("asc"),n.prototype.descending=s.sort("desc"),n.prototype.beforeUid=s.sort("before_uid"),n.prototype.afterUid=s.sort("after_uid"),n.prototype.skip=s.pagination("skip"),n.prototype.limit=s.pagination("limit"),n.prototype.count=function(){return this._query.count=!0,this.requestParams={method:"POST",headers:this.headers,url:this.config.protocol+"://"+this.config.host+"/"+this.config.version+this.config.urls.content_types+this.content_type_uid+this.config.urls.entries,body:{_method:"GET",query:this._query}},this},n.prototype.or=s.logical("$or"),n.prototype.and=s.logical("$and"),n.prototype.query=function(e){return"object"==typeof e?(this._query.query=i.mergeDeep(this._query.query,e),this):void console.error("Kindly provide valid parameters")},n.prototype.tags=function(e){return Array.isArray(e)?(this._query.tags=e,this):void console.error("Kindly provide valid parameters")},n.prototype.includeCount=function(){return this._query.include_count=!0,this},n.prototype.getQuery=function(){return this._query.query||{}},n.prototype.regex=function(e,t,r){return e&&t&&"string"==typeof e&&"string"==typeof t?(this._query.query[e]={$regex:t},r&&(this._query.query[e].$options=r),this):void console.error("Kindly provide valid parameters.")},n.prototype.search=function(e){return e&&"string"==typeof e?(this._query.typeahead=e,this):void console.error("Kindly provide valid parameters.")},n.prototype.find=function(){return this.requestParams={method:"POST",headers:this.headers,url:this.config.protocol+"://"+this.config.host+"/"+this.config.version+this.config.urls.content_types+this.content_type_uid+this.config.urls.entries,body:{_method:"GET",query:this._query}},this},n.prototype.findOne=function(){return this.singleEntry=!0,this._query.limit=1,this.requestParams={method:"POST",headers:this.headers,url:this.config.protocol+"://"+this.config.host+"/"+this.config.version+this.config.urls.content_types+this.content_type_uid+this.config.urls.entries,body:{_method:"GET",query:this._query}},this},t.exports=n},{"./../../lib/request":5,"./../../lib/utils":6,"./entry":10}],12:[function(e,t,r){"use strict";function n(e){return e&&(this.object=function(){return e}),this}var i=e("./../../lib/utils");n.prototype.toJSON=function(){return this.object()?i.mergeDeep(JSON.parse(JSON.stringify({})),this.object()):null},n.prototype.get=function(e){if(this.object()&&e){var t=e.split("."),r=t.reduce(function(e,t){return e[t]},this.object());return r}},t.exports=function(e){return new n(e)}},{"./../../lib/utils":6}],13:[function(e,t,r){"use strict";function n(){this.config=u}var i=e("./../lib/request"),o=e("./../lib/utils"),s=e("./cache"),u=e("./../config"),a=e("./entry/entry"),c=e("./entry/query"),y=e("./cache-provider/index");n.prototype.initialize=function(){var e=this;return function(){switch(arguments.length){case 1:if("object"==typeof arguments[0]&&"string"==typeof arguments[0].api_key&&"string"==typeof arguments[0].access_token&&"string"==typeof arguments[0].environment)return e.headers={api_key:arguments[0].api_key,access_token:arguments[0].access_token},e.environment=arguments[0].environment,e._environment(arguments[0].environment,arguments[0].api_key),e.setCachePolicy(y.policies.ONLY_NETWORK),e.setCacheProvider(y.providers("localstorage")),e;console.error("Kindly provide valid object parameters.");case 3:if("string"==typeof arguments[0]&&"string"==typeof arguments[1]&&"string"==typeof arguments[2])return e.headers={api_key:arguments[0],access_token:arguments[1]},e.cachePolicy=y.policies.IGNORE_CACHE,e.provider=y.providers("localstorage"),e.environment=arguments[2],e._environment(arguments[2],arguments[0]),e;console.error("Kindly provide valid string parameters.");default:console.error("Kindly provide valid parameters to initialize the Built.io Contentstack javascript-SDK Stack.")}}},n.prototype._environment=function(e,t){var r=this,n=t+".environment."+e,o=s.get(n);o?r.environment_uid=o:i({url:r.config.protocol+"://"+r.config.host+"/"+r.config.version+r.config.urls.environments+e,headers:r.headers},function(e,t){try{if(e)throw e;t&&t.environment&&t.environment.uid&&(s.set(n,t.environment.uid),r.environment_uid=t.environment.uid)}catch(i){console.error("Could not retrieve the environment due to %s error: ",i.message)}})},n.prototype.setCachePolicy=function(e){return"number"==typeof e&&e>=-1&&4>e?this._query?this.queryCachePolicy=e:this.cachePolicy=e:console.error("Kindly provide the valid policy"),this},n.prototype.setCacheProvider=function(e){return e&&"object"==typeof e&&(this.provider=e),this},n.prototype.clearByQuery=function(){return this.provider&&"function"==typeof this.provider.clearByQuery?this.provider.clearByQuery.apply(this.provider,arguments):void 0},n.prototype.clearByContentType=function(){return this.provider&&"function"==typeof this.provider.clearByContentType?this.provider.clearByContentType.apply(this.provider,arguments):void 0},n.prototype.clearAll=function(){return this.provider&&"function"==typeof this.provider.clearAll?this.provider.clearAll.apply(this.provider,arguments):void 0},n.prototype.getCacheProvider=function(){return this.provider},n.prototype.ContentType=function(e){return e&&"string"==typeof e&&(this.content_type_uid=e),this},n.prototype.Entry=function(e){var t=new a;return e&&"string"==typeof e&&(t.entry_uid=e),o.merge(t,this)},n.prototype.Query=function(){var e=new c;return o.merge(e,this)},n.prototype.getLastActivities=function(){var e={method:"POST",headers:this.headers,url:this.config.protocol+"://"+this.config.host+"/"+this.config.version+this.config.urls.content_types,body:{_method:"GET",query:{only_last_activity:!0}}};return this.environment_uid?e.body.query.environment_uid=this.environment_uid:e.body.query.environment=this.environment,{then:function(t,r){i(e,function(e,n){e?r(e):t(n)})}}},t.exports=new n},{"./../config":3,"./../lib/request":5,"./../lib/utils":6,"./cache":9,"./cache-provider/index":7,"./entry/entry":10,"./entry/query":11}]},{},[4]);